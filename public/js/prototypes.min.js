HTMLSelectElement.prototype.select=function({onchange:l=function(){}}={}){function d({value:e="",text:t="",level:a=0,selected:s=!1,disabled:l=!1}){var d=document.createElement("li");switch(d.dataset.value=e,d.dataset.level=a,d.innerText=t,d.classList.add("px-4","py-3","cursor-pointer","whitespace-nowrap","min-h-12","hover:bg-sky-600","hover:text-white"),s&&d.classList.add("bg-sky-600","text-white"),l&&d.classList.add("opacity-50","cursor-not-allowed"),""+a){case"1":d.classList.add("pl-8");break;case"2":d.classList.add("pl-12");break;case"3":d.classList.add("pl-16");break;case"4":d.classList.add("pl-20");break;case"5":d.classList.add("pl-24");break;case"6":d.classList.add("pl-28");break;case"7":d.classList.add("pl-32");break;case"8":d.classList.add("pl-36");break;case"9":d.classList.add("pl-40");break;case"10":d.classList.add("pl-44")}return d}const r=new Set,n=self.crypto.randomUUID();var e=document.createElement("div"),t=(e.classList.add("relative","grow"),document.createElement("label"));t.classList.add("absolute","select-none","-top-3","left-2","mb-2","text-sm","text-gray-600","bg-white","dark:bg-gray-800","dark:text-gray-400","px-1","text-ellipsis","whitespace-nowrap","overflow-hidden"),t.textContent=this.title,t.style.maxWidth="-webkit-fill-available";const a=document.createElement("input"),i=(a.setAttribute("value",this.value),a.setAttribute("type","hidden"),a.setAttribute("name",this.name),a.setAttribute("required",""),document.createElement("button")),o=(i.setAttribute("type","button"),i.id="button-"+n,i.classList.add("flex","items-center","justify-start","px-3","py-2","outline-none","border-2","border-gray-200","dark:border-gray-600","rounded-lg","w-full","focus:border-sky-600","transition","min-h-11","z-10"),i.setAttribute("data-atlantis-select",""),document.createElement("ul"));function c(e,t){i.textContent=t,a.setAttribute("value",e)}return o.id="ul-"+n,o.classList.add("absolute","select-none","mt-1","hidden","bg-white","dark:bg-gray-800","rounded-lg","border-2","border-sky-600","shadow-xl","max-h-[50vh]","overflow-y-auto","z-20"),o.setAttribute("data-atlantis-options",""),this.querySelectorAll("option").forEach(e=>{var t=d({value:e.value,text:e.textContent,level:e.dataset.level,selected:e.selected,disabled:e.disabled});o.append(t),r.add(t),e.selected&&(i.textContent=e.textContent,a.setAttribute("value",e.value))}),e.append(t,a,i,o),e.addEventListener("click",function(e){var t=e.target;if(t.closest("button")===i)(a=e).stopPropagation(),a=a.target,document.querySelectorAll(`[data-atlantis-select]:not(#button-${n})`).forEach(e=>e.classList.remove("border-sky-600")),document.querySelectorAll(`[data-atlantis-options]:not(#ul-${n})`).forEach(e=>e.classList.add("hidden")),a.classList.toggle("border-sky-600"),o.classList.toggle("hidden"),document.addEventListener("click",function(){document.querySelectorAll("[data-atlantis-select]").forEach(e=>{e.classList.remove("border-sky-600")}),document.querySelectorAll("[data-atlantis-options]").forEach(e=>{e.classList.add("hidden")})},{once:!0});else if(r.has(t.closest("li"))){var a=e;const s=a.target.closest("li");c(a=s.dataset.value,s.textContent),r.forEach(e=>{e===s?e.classList.add("bg-sky-600","text-white"):e.classList.remove("bg-sky-600","text-white")}),l(a);return}}),this.parentElement.replaceChild(e,this),{getValue:function(){return a.value},setValue:c,update:function(e){r.forEach(e=>e.remove()),r.clear(),e.forEach(({value:e="",text:t="",level:a=0,selected:s=!1,disabled:l=!1}={})=>{a=d({value:e,text:t,level:a,selected:s,disabled:l});o.append(a),r.add(a),s&&c(e,t)})}}};